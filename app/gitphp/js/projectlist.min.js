/*
 * GitPHP
 * 
 * @author Christopher Han <xiphux@gmail.com>
 * @copyright Copyright (c) 2012 Christopher Han
 * @package GitPHP
 * @subpackage Javascript
 */
define("modules/resources",["module"],function(b){return b.config().resources});
window.Modernizr=function(b,d){var e={},i=d.documentElement,f=d.createElement("modernizr"),f=f.style,c={},a=[],g=a.slice,h,j={}.hasOwnProperty,l;l=typeof j!=="undefined"&&typeof j.call!=="undefined"?function(a,b){return j.call(a,b)}:function(a,b){return b in a&&typeof a.constructor.prototype[b]==="undefined"};if(!Function.prototype.bind)Function.prototype.bind=function(a){var b=this;if(typeof b!="function")throw new TypeError;var c=g.call(arguments,1),d=function(){if(this instanceof d){var f=function(){};
f.prototype=b.prototype;var f=new f,m=b.apply(f,c.concat(g.call(arguments)));return Object(m)===m?m:f}else return b.apply(a,c.concat(g.call(arguments)))};return d};for(var n in c)l(c,n)&&(h=n.toLowerCase(),e[h]=c[n](),a.push((e[h]?"":"no-")+h));e.addTest=function(a,b){if(typeof a=="object")for(var c in a)l(a,c)&&e.addTest(c,a[c]);else{a=a.toLowerCase();if(e[a]!==void 0)return e;b=typeof b=="function"?b():b;typeof enableClasses!=="undefined"&&enableClasses&&(i.className+=" "+(b?"":"no-")+a);e[a]=b}return e};
f.cssText="";f=null;e._version="2.6.2";e.testStyles=function(a,b,c,f){var e,m,k=d.createElement("div"),h=d.body,g=h||d.createElement("body");if(parseInt(c,10))for(;c--;)e=d.createElement("div"),e.id=f?f[c]:"modernizr"+(c+1),k.appendChild(e);c=['&#173;<style id="smodernizr">',a,"</style>"].join("");k.id="modernizr";(h?k:g).innerHTML+=c;g.appendChild(k);if(!h)g.style.background="",g.style.overflow="hidden",m=i.style.overflow,i.style.overflow="hidden",i.appendChild(g);a=b(k,a);h?k.parentNode.removeChild(k):
(g.parentNode.removeChild(g),i.style.overflow=m);return!!a};return e}(this,this.document);define("modernizr",function(){});define("modules/hassearchreset",["modernizr"],function(){var b=!1;return function(){b||(Modernizr.testStyles("#modernizr, x::-webkit-search-cancel-button { width: 9px; }",function(b){Modernizr.addTest("searchreset",b.offsetWidth==9)}),b=!0);return Modernizr.searchreset}});
define("modules/projectsearch",["jquery","modules/resources","modules/hassearchreset"],function(b,d,e){function i(){a.find("form").keypress(function(a){if(a.which==13)return!1});c.find("tr.projectRow").size()>0&&(e()||a.find("a.clearSearch").click(n),a.find("input.projectSearchBox").keyup(o).bind("input paste",o))}function f(a,b){if(a){g||(g=jQuery(document.createElement("div")),g.addClass("message"),g.appendTo(c));var f=d.NoMatchesFound.replace(/%1/,b);g.text(f);g.show()}else g&&g.hide()}var c=null,
a=null,g=null,h="",j=null,l=null,n=function(){a.find("img searchSpinner").show();a.find("input.projectSearchBox").val("");h="";p("");a.find("img.searchSpinner").hide();return!1},o=function(){var b=a.find("input.projectSearchBox").val().toLowerCase();b!=h&&(a.find("img.searchSpinner").show(),j!=null&&clearTimeout(j),h=b,j=setTimeout(function(){l.search(b);a.find("img.searchSpinner").hide()},500))},p=function(d){clearTimeout(j);j=null;e()||(d.length==0?a.find("a.clearSearch").hide():a.find("a.clearSearch").show());
var g=!1,h=[];c.find("tr.projectRow").each(function(){var a=b(this);if(d.length<1)a.show(),g=!0;else{var c;c=a.find("td.projectName a").text();c.length>0&&c.toLowerCase().indexOf(d)!=-1?c=!0:(c=a.find("td.projectDescription a").text(),c.length>0&&c.toLowerCase().indexOf(d)!=-1?c=!0:(c=a.find("td.projectOwner em").text(),c=c.length>0&&c.toLowerCase().indexOf(d)!=-1?!0:!1));c?(a.show(),g=!0,(a=a.data("category"))&&jQuery.inArray(a,h)==-1&&h.push(a)):a.hide()}});c.find("tr.categoryRow").each(function(){var a=
b(this);if(d.length<1)a.show();else{var c=a.children("th.categoryName").text();c.length>0&&(jQuery.inArray(c,h)!==-1?a.show():a.hide())}});g?(f(!1),c.find("tr.projectHeader").show()):(f(!0,d),c.find("tr.projectHeader").hide())};return{init:function(f,d){c=f;a=d;l=this;var e="";c.find("tr").each(function(){var a=b(this);a.hasClass("categoryRow")?e=a.children("th.categoryName").text():a.hasClass("projectRow")&&e.length>0&&a.data("category",e)});i()},search:p}});
define("modules/getproject",["module"],function(b){return b.config().project||null});define("modules/lang",["jquery"],function(){return function(b){b.find("select").change(function(){b.find("form").submit()});b.find('input[type="submit"]').remove()}});define("modules/snapshotformats",["module"],function(b){return b.config().formats||null});
define("modules/tooltip.snapshot",["jquery","modules/snapshotformats","modules/resources"],function(b,d,e){function i(b){var c="<div>"+e.Snapshot+": ",a=!0,g=b.indexOf("/snapshot")!=-1,h;for(h in d)d.hasOwnProperty(h)&&(a||(c+=" | "),g?(a=b.replace("/snapshot","/"+h),c+='<a href="'+a+'">'+d[h]+"</a>"):c+='<a href="'+b+"&fmt="+h+'">'+d[h]+"</a>",a=!1);c+="</div>";return c}return function(d){d&&d.size()>0&&require(["qtip"],function(){d.each(function(){var c=b(this),a=c.attr("href"),a={content:{text:i(a)},
show:{event:"click"},hide:{fixed:!0,delay:150},style:{classes:"ui-tooltip-gitphp ui-tooltip-light ui-tooltip-shadow"},position:{viewport:b(window)}};c.qtip(a);c.click(function(){return!1})})})}});define("modules/geturl",["module"],function(b){return b.config().baseurl});
define("modules/tooltip.commit",["jquery","modules/geturl","modules/getproject","modules/resources"],function(b,d,e,i){return function(f){f&&f.size()>0&&require(["qtip"],function(){f.each(function(){var c=b(this),a;(a=c.attr("href").match(/h=([0-9a-fA-F]{4,40}|HEAD)/))||(a=c.attr("href").match(/\/commits\/([0-9a-fA-F]{4,40}|HEAD)/));if(a=a?a[1]:null)a={content:{text:'<img src="'+d+'images/tooltip-loader.gif" alt="'+i.Loading+'" />',ajax:{url:d,data:{p:e,a:"commit",o:"jstip",h:a},type:"GET"}},style:{classes:"ui-tooltip-gitphp ui-tooltip-light ui-tooltip-shadow"},
position:{viewport:b(window)}},c.qtip(a)})})}});
define("modules/tooltip.tag",["jquery","modules/geturl","modules/getproject","modules/resources"],function(b,d,e,i){return function(f){f&&f.size()>0&&require(["qtip"],function(){f.each(function(){var c=b(this),a;(a=c.attr("href").match(/t=([^&]+)/))||(a=c.attr("href").match(/\/tags\/([^\/\?]+)/));if(a=a?a[1]:null)a={content:{text:'<img src="'+d+'images/tooltip-loader.gif" alt="'+i.Loading+'" />',ajax:{url:d,data:{p:e,a:"tag",o:"jstip",t:a},type:"GET"}},style:{classes:"ui-tooltip-gitphp ui-tooltip-light ui-tooltip-shadow"},
position:{viewport:b(window)}},c.qtip(a)})})}});define("common","jquery,modules/getproject,modules/lang,modules/tooltip.snapshot,modules/tooltip.commit,modules/tooltip.tag".split(","),function(b,d,e,i,f,c){b(function(){e(b("div.lang_select"));i(b("a.snapshotTip"))});d&&(f(b("a.commitTip")),c(b("a.tagTip")))});define("projectlist",["jquery","modules/projectsearch","common"],function(b,d){b(function(){d.init(b("table.projectList"),b("div.projectSearch"))})});